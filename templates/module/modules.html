{% extends 'base.html' %}
{% load static %}
{% block title %} Units {% endblock %}
{% block content %}
<br>
<br>
<br>
<br>
<div class="container mt-5 pt-3">
  <h1 class="py-3 mx-auto ms-3" style="color: #0053cb;" >{{ course.title }}</h1>
  <section>
    <div class="row">
      <div class="col-md-3 gx-5 mb-4">
        <div class="bg-light gy-5 text-center hover-overlay ripple shadow-2-strong rounded-5 ">
          
          <h4 class="border-scandary border-bottom py-4"><a href="{% url 'edit-course' course.id %}" class="text-decoration-none">Edit course</a></h4>
          <h4 class="border-scandary border-bottom py-4"><a href="{% url 'modules' course.id %}"class="text-decoration-none">units</a></h4>
          <h4 class="border-scandary border-bottom py-4"><a href="#sub"class="text-decoration-none">Submissions</a></h4>
          <h4 class="border-scandary border-bottom py-4"><a href="#leader"class="text-decoration-none">Leaderboard</a></h4>
          <h4 class="border-scandary border-bottom py-4"><a href="{% url 'questions' course.id %}" class="text-decoration-none">Questions</a></h4>
          {% if profile.user_type == 'teacher' %}
          <h4 class="border-scandary border-bottom py-4"><a href="{% url 'student-submissions' course.id %}"class="text-decoration-none">Student Submissions</a></h4>
          {% endif %}            
        </div>
      </div>
      <div class="col-md-8 gx-5 mb-4">
        <section class="container ">
          <div class=" gx-5 unit">
            <div class="mx-auto d-flex flex-sm-wrap row gx-5 border-scandary  border-bottom mb-5">                
            <h2 class=" col-8 pb-3" style="color: #0053cb;">Units:   </h2>
            {% if profile.user_type == 'teacher'%}
            <a href="{% url 'new-module' course.id %}" class="col-1 btn btn-primary btn-floating rounded-circle mb-3 mx-3 p-3"><i class="fa-solid fa-plus"></i></a>
            {% endif %}
            </div>
            <!-- start -->
            {% for module in course.modules.all %}
            <div class="mx-auto pb-2 gx-5 border-scandary  border rounded">
                <h4 class="ms-2 py-3" style="color: #0053cb;">{{ module.title }}</h4>
                {% if profile.user_type == 'teacher'%}
                <a class="btn btn-primary ms-2 btn-sm" href="{% url 'new-page' course.id module.id %}" role="button"><i class="fa-solid fa-circle-plus"></i> Add new Topic</a>
                <a class="btn btn-secondary ms-2 btn-sm" href="{% url 'new-quiz' course.id module.id %}" role="button"><i class="fa-solid fa-circle-plus"></i> Add new Quiz </a>
                <a class="btn btn-secondary ms-2 btn-sm" href="{% url 'new-assignment' course.id module.id %}" role="button"><i class="fa-solid fa-circle-plus"></i> Add new Assignment</a>
                {% endif %}
                <div>
                  <br>
                  <ul class="list-group">
                  {% for page in module.pages.all %}
                  <li class="list-group-item">
                    <a href="{% url 'page-detail' course.id module.id page.id %}" class=""><i class="fa-solid fa-book"></i>{{ page.title }}</a>
                    {% if page.id in page_completions %}Completed:<i class="fa-solid fa-circle"></i>{% else %}not Completed:<i class="fa-regular fa-circle"></i>{% endif %}                  
                  </li>  
                  {% endfor %}
                  </ul>
                  <ul class="list-group">
                  {% for quiz in module.quizzes.all %}
                  <li class="list-group-item">
                    <a href="{% url 'quiz-detail' course.id module.id quiz.id %}" class=""><i class="fa-brands fa-quora"></i>   {{ quiz.title }}</a>
                    {% if quiz.id in quiz_completions %}Completed:<i class="fa-solid fa-circle"></i>{% else %}not Completed:<i class="fa-regular fa-circle"></i>{% endif %}                  
                  </li>  
                  {% endfor %}
                  </ul>
                  <ul class="list-group">
                  {% for assignment in module.assignments.all %}
                  <li class="list-group-item">
                    <a href="{% url 'assignment-detail' course.id module.id assignment.id %}" class=""><i class="fa-brands fa-adversal"></i>   {{ assignment.title }}</a>
                    {% if assignment.id in assignment_completions %}Completed:<i class="fa-solid fa-circle"></i>{% else %}not Completed:<i class="fa-regular fa-circle"></i>{% endif %}                  
                  </li>  
                  {% endfor %}
                  </ul>
                </div>    
            </div>
            {% endfor %}
            <!-- end -->     
         </div>
        </section>
      </div>
    </div>
  </section>
</div>
<!-- hhh -->

{% endblock %}